<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/tabulator.min.css">
    <link rel="stylesheet" href="css/hz-demos.css">

    <script src="scripts/jquery-3.4.1-min.js"></script>
    <script src="scripts/bootstrap.bundle.min.js"></script>
    <script src="scripts/tabulator.min.js"></script>
    <script src="scripts/plotly-lastest-min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=XXX&callback=InitMap"
            async defer></script>

    <title>Hazelcast Jet IoT Demo</title>
</head>
    <body>
        <nav id="app-header" class="navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <div class="row">
                    <div class="col-sm">
                        <button id="start-button" type="button" class="btn btn-primary"
                                onclick="ResetState( );">Reset</button>
                    </div>
                    <div class="col-sm"><p id="data-link"><a target="_blank" href="https://catalog.data.gov/dataset/advanced-messaging-concept-development-probe-vehicle-data">
                        US Department of Transportation AMCP Data Set</a></p></div>
                    <div class="col-sm">
                        <p id="logo"><a href="http://www.hazelcast.com" target="_blank">
                            <img src="images/HazelcastLogo_Dark_200w.png"></a></p>
                    </div>
                </div>
            </div>
        </nav>

        <h2 class="section-head">Vehicle Geolocation</h2>
        <p class="desc-text">Plots vehicle positions using a standard Google Maps widget. Hover over a vehicle
            to determine the driver ID.</p>

        <div id="map"></div>


        <h2 class="section-head">Vehicle Average Speed</h2>
        <p class="desc-text">Shows a moving average speed for each vehicle. The average is computed over a sliding
            30-second window and updated every three seconds. All times are in application time, which is not
            guaranteed to be the same as wall-clock time. This widget will not appear until a data feed is
            available.</p>

        <div id="speed-chart"></div>

        <h2 class="section-head">Policy Violations</h2>
        <p class="desc-text">Counts the number of business rules violations committed by each driver.
            According to our application logic, a rules violation is a sample point where a vehicle's speed
            exceeds 40mph. This table will populate as violations are encountered. Using the stateful processing
            features of the Hazelcast platform, violation count data is enriched with driver demographic and
            vehicle information to assist in decisionmaking.</p>

        <div id="violations-table-container" class="container">
            <div id="violations_table"></div>
        </div>
    </body>

<script src="scripts/iotdemo-client-logic.js"></script>
</html>
